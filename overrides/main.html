{% extends "base.html" %}

{% block content %}
  {{ super() }}

  <hr>

  {% if page.meta.author %}
    <div class="page-authors">
      æœ¬é¡µä½œè€…ï¼š
      {% set authors = page.meta.author.split(',') %}
      {% for author in authors %}
        <a href="https://github.com/{{ author.strip() }}" target="_blank">
          {{ author.strip() }}
        </a>{% if not loop.last %}, {% endif %}
      {% endfor %}
    </div>
  {% endif %}

  <div class="page-license">
    è‹¥æœªç‰¹åˆ«è¯´æ˜ï¼Œæœ¬ç«™ä½¿ç”¨ SATA ä¸ CC BY-NC-SA 4.0ã€‚
  </div>

  <div id="gitalk-container"></div>
  <script src="https://giscus.app/client.js"
        data-repo="CB-X2-Jun/codeforces-problems-cn-translations"
        data-repo-id="R_kgDORNrtjg"
        data-category="Announcements"
        data-category-id="DIC_kwDORNrtjs4C2Rv6"
        data-mapping="pathname"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light_tritanopia"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>

<script>
  function getGiscusTheme() {
    const meta = document.querySelector('meta[name="color-scheme"]');
    return meta && meta.getAttribute("content") === "dark"
      ? "dark_dimmed"
      : "light_tritanopia";
  }

  function updateGiscusTheme() {
    const iframe = document.querySelector("iframe.giscus-frame");
    if (!iframe) return;

    iframe.contentWindow.postMessage(
      {
        giscus: {
          setConfig: {
            theme: getGiscusTheme()
          }
        }
      },
      "https://giscus.app"
    );
  }

  function waitForGiscus() {
    const timer = setInterval(() => {
      const iframe = document.querySelector("iframe.giscus-frame");
      if (iframe && iframe.contentWindow) {
        updateGiscusTheme();
        clearInterval(timer);
      }
    }, 200);
  }

  window.addEventListener("load", waitForGiscus);

  // ğŸ”¥ ç›‘å¬ head å˜åŒ–ï¼ˆå…³é”®ï¼‰
  new MutationObserver(updateGiscusTheme)
    .observe(document.head, {
      childList: true,
      subtree: true
    });
</script>

      <!-- <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
      <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
      <script>
        var gitalk = new Gitalk({
  clientID: 'Ov23li4CqXkddudm4GQW',
  clientSecret: '3f27ba1e2e41b3bf71e6a5f0cb2c90e8d089f0aa',
  repo: 'codeforces-problems-cn-translations',
  owner: 'CB-X2-Jun',
  admin: ['CB-X2-Jun'],
  id: location.pathname,      // Ensure uniqueness and length less than 50
  distractionFreeMode: true,  // Facebook-like distraction free mode
  perPage: 50,
  pagerDirection: 'first',
  labels: ['Created by Gitalk', 'Comments']
})

gitalk.render('gitalk-container')
      </script> -->

{% endblock %}
